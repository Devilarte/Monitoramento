
# MikroTik CCR1036-8G-2S+ SNMP

## Visão Geral

Versão do Zabbix: 6.0 e superiores  
O modelo para monitorar o roteadores MikroTik CCR1036-8G-2S+.

### Macros

|Nome|Descrição|Valor Padrão|
|----|-----------|-------|
|{$CPU.UTIL.CRIT} |<p>-</p> |`90` |
|{$ICMP_LOSS_WARN} |<p>-</p> |`20` |
|{$ICMP_RESPONSE_TIME_WARN} |<p>-</p> |`0.15` |
|{$IF.ERRORS.WARN} |<p>-</p> |`2` |
|{$IF.UTIL.MAX} |<p>-</p> |`90` |
|{$IFCONTROL} |<p>-</p> |`1` |
|{$IFNAME.LTEMODEM.MATCHES} |<p>Essa macro é usada na descoberta de modem LTE. Ele pode ser substituído no host.</p> |`^lte` |
|{$IFNAME.WIFI.MATCHES} |<p>Esta macro é usada na descoberta de canal CAPsMAN AP. Ele pode ser substituído no nível do host.</p> |`WIFI` |
|{$LTEMODEM.RSRP.MIN.WARN} |<p>O valor mínimo de RSRP do modem LTE para expressão de gatilho de aviso.</p> |`-100` |
|{$LTEMODEM.RSRQ.MIN.WARN} |<p>O valor mínimo de RSRQ do modem LTE para expressão de gatilho de aviso.</p> |`-20` |
|{$LTEMODEM.RSSI.MIN.WARN} |<p>O valor mínimo de RSSI do modem LTE para expressão de gatilho de aviso.</p> |`-100` |
|{$LTEMODEM.SINR.MIN.WARN} |<p>O valor mínimo de SINR do modem LTE para expressão de gatilho de aviso.</p> |`0` |
|{$MEMORY.UTIL.MAX} |<p>-</p> |`90` |
|{$NET.IF.IFADMINSTATUS.MATCHES} |<p>Ignorar Não-Presente(6)</p> |`^.*` |
|{$NET.IF.IFADMINSTATUS.NOT_MATCHES} |<p>Ignorar Down(2) Status Administrativo</p> |`^2$` |
|{$NET.IF.IFALIAS.MATCHES} |<p>-</p> |`.*` |
|{$NET.IF.IFALIAS.NOT_MATCHES} |<p>-</p> |`CHANGE_IF_NEEDED` |
|{$NET.IF.IFDESCR.MATCHES} |<p>-</p> |`.*` |
|{$NET.IF.IFDESCR.NOT_MATCHES} |<p>-</p> |`CHANGE_IF_NEEDED` |
|{$NET.IF.IFNAME.MATCHES} |<p>-</p> |`^.*$` |
|{$NET.IF.IFNAME.NOT_MATCHES} |<p>Filtrar loopbacks, nulos, links docker veth e bridge docker0 por padrão</p> |`(^Software Loopback Interface|^NULL[0-9.]*$|^[Ll]o[0-9.]*$|^[Ss]ystem$|^Nu[0-9.]*$|^veth[0-9a-z]+$|docker[0-9]+|br-[a-z0-9]{12})` |
|{$NET.IF.IFOPERSTATUS.MATCHES} |<p>-</p> |`^.*$` |
|{$NET.IF.IFOPERSTATUS.NOT_MATCHES} |<p>Ignorar Não-Presente(6)</p> |`^6$` |
|{$NET.IF.IFTYPE.MATCHES} |<p>-</p> |`.*` |
|{$NET.IF.IFTYPE.NOT_MATCHES} |<p>-</p> |`CHANGE_IF_NEEDED` |
|{$SNMP.TIMEOUT} |<p>-</p> |`5m` |
|{$TEMP_CRIT:"CPU"} |<p>-</p> |`75` |
|{$TEMP_CRIT_LOW} |<p>-</p> |`5` |
|{$TEMP_CRIT} |<p>-</p> |`60` |
|{$TEMP_WARN:"CPU"} |<p>-</p> |`70` |
|{$TEMP_WARN} |<p>-</p> |`50` |
|{$VFS.FS.PUSED.MAX.CRIT} |<p>-</p> |`90` |
|{$VFS.FS.PUSED.MAX.WARN} |<p>-</p> |`80` |

## Regras de Descoberta

|Nome|Descrição|Tipo|Chave e informações adicionais|
|----|-----------|----|----|
|Descoberta de CPU |<p>HOST-RESOURCES-MIB::hrProcessorTable discovery</p> |SNMP |hrProcessorLoad.discovery |
|Descoberta de Interfaces de Rede |<p>Descobrindo interfaces de IF-MIB.</p> |SNMP |net.if.discovery<p>**Filtro**:</p>E <p>- {#IFADMINSTATUS} MATCHES_REGEX `{$NET.IF.IFADMINSTATUS.MATCHES}`</p><p>- {#IFADMINSTATUS} NOT_MATCHES_REGEX `{$NET.IF.IFADMINSTATUS.NOT_MATCHES}`</p><p>- {#IFOPERSTATUS} MATCHES_REGEX `{$NET.IF.IFOPERSTATUS.MATCHES}`</p><p>- {#IFOPERSTATUS} NOT_MATCHES_REGEX `{$NET.IF.IFOPERSTATUS.NOT_MATCHES}`</p><p>- {#IFNAME} MATCHES_REGEX `{$NET.IF.IFNAME.MATCHES}`</p><p>- {#IFNAME} NOT_MATCHES_REGEX `{$NET.IF.IFNAME.NOT_MATCHES}`</p><p>- {#IFDESCR} MATCHES_REGEX `{$NET.IF.IFDESCR.MATCHES}`</p><p>- {#IFDESCR} NOT_MATCHES_REGEX `{$NET.IF.IFDESCR.NOT_MATCHES}`</p><p>- {#IFALIAS} MATCHES_REGEX `{$NET.IF.IFALIAS.MATCHES}`</p><p>- {#IFALIAS} NOT_MATCHES_REGEX `{$NET.IF.IFALIAS.NOT_MATCHES}`</p><p>- {#IFTYPE} MATCHES_REGEX `{$NET.IF.IFTYPE.MATCHES}`</p><p>- {#IFTYPE} NOT_MATCHES_REGEX `{$NET.IF.IFTYPE.NOT_MATCHES}`</p> |
|Descoberta de Storage |<p>HOST-RESOURCES-MIB::hrStorage</p><p>Descoberta com Filtro de Storage</p> |SNMP |storage.discovery<p>**Filtro**:</p>OR <p>- {#STORAGE_TYPE} MATCHES_REGEX `.+4$`</p><p>- {#STORAGE_TYPE} MATCHES_REGEX `.+hrStorageFixedDisk`</p> |
|Descoberta de Temperatura CPU |<p>MIKROTIK-MIB::mtxrHlProcessorTemperature</p><p>Como a temperatura da CPU não está disponível em todos os hardwares do Mikrotik, isso é feito para evitar itens não suportados.</p> |SNMP |mtxrHlProcessorTemperature.discovery |
|Descoberta de Temperatura Sensor |<p>MIKROTIK-MIB::mtxrHlTemperature</p><p>Como o sensor de temperatura não está disponível em todos os hardwares do Mikrotik, isso é feito para evitar itens não suportados.</p> |SNMP |mtxrHlTemperature.discovery |

## Itens

|Grupo|Nome|Descrição|Tipo|Chave e informações adicionais|
|-----|----|-----------|----|---------------------|
|CPU |#{#SNMPINDEX}: CPU utilization |<p>MIB: HOST-RESOURCES-MIB</p><p>A média, no último minuto, da porcentagem de tempo que esse processador não ficou ocioso. As implementações podem aproximar esse período de suavização de um minuto, se necessário.</p> |SNMP |system.cpu.util[hrProcessorLoad.{#SNMPINDEX}] |
|General |SNMP traps (fallback) |<p>O item é usado para coletar todas as traps SNMP inigualáveis por outros itens de trap SNMP</p> |SNMP_TRAP |snmptrap.fallback |
|General |System location |<p>MIB: SNMPv2-MIB</p><p>A localização física (ex., `telephone closet, 3rd floor').  Se o local for desconhecido, o valor é a string de comprimento zero.</p> |SNMP |system.location[sysLocation.0]<p>**Pré-processando**:</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `12h`</p> |
|General |System contact details |<p>MIB: SNMPv2-MIB</p><p>A identificação textual da pessoa de contato, junto com informações sobre como entrar em contato com a mesma. Se nenhuma informação for inserida, o valor é a string de comprimento zero.</p> |SNMP |system.contact[sysContact.0]<p>**Pré-processando**:</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `12h`</p> |
|General |System object ID |<p>MIB: SNMPv2-MIB</p><p>A identificação oficial do fornecedor do subsistema de gerenciamento de rede contido na entidade. Este valor é alocado dentro da subárvore das empresas SMI (1.3.6.1.4.1) e fornece um meio fácil e inequívoco de determinar`que tipo de caixa' está sendo gerenciado. Por exemplo, se o fornecedor`Flintstones, Inc.' foi atribuída a subárvore 1.3.6.1.4.1.4242, ela poderia atribuir o identificador 1.3.6.1.4.1.4242.1.1 ao seu `Fred Router'.</p> |SNMP |system.objectid[sysObjectID.0]<p>**Pré-processando**:</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `12h`</p> |
|General |System name |<p>MIB: SNMPv2-MIB</p><p>Um nome designado administrativamente. Por convenção, este é o nome de domínio completo. Se o nome for desconhecido, o valor é a string de comprimento zero.</p> |SNMP |system.name<p>**Pré-processando**:</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `12h`</p> |
|General |System description |<p>MIB: SNMPv2-MIB</p><p>Uma descrição textual da entidade. Esse valor deve</p><p>incluir o nome completo e a identificação da versão do tipo de hardware do sistema, sistema operacional de software e</p><p>software de rede.</p> |SNMP |system.descr[sysDescr.0]<p>**Pré-processando**:</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `12h`</p> |
|Inventory |Operating system |<p>MIB: MIKROTIK-MIB</p><p>Versão do Software.</p> |SNMP |system.sw.os[mtxrLicVersion.0]<p>**Pré-processando**:</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1d`</p> |
|Inventory |Hardware model name |<p>-</p> |SNMP |system.hw.model<p>**Pré-processando**:</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1d`</p> |
|Inventory |Hardware serial number |<p>MIB: MIKROTIK-MIB</p><p>Número de Série da RouterBOARD.</p> |SNMP |system.hw.serialnumber<p>**Pré-processando**:</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1d`</p> |
|Inventory |Firmware version |<p>MIB: MIKROTIK-MIB</p><p>Versão do Firmware Atual.</p> |SNMP |system.hw.firmware<p>**Pré-processando**:</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1d`</p> |
|Memory |Used memory |<p>MIB: HOST-RESOURCES-MIB</p><p>A quantidade de armazenamento representada por esta entrada que é alocada, em unidades de hrStorageAllocationUnits.</p> |SNMP |vm.memory.used[hrStorageUsed.Memory]<p>**Pré-processando**:</p><p>- MULTIPLIER: `1024`</p> |
|Memory |Total memory |<p>MIB: HOST-RESOURCES-MIB</p><p>O tamanho do armazenamento representado por esta entrada, em unidades de hrStorageAllocationUnits. Este objeto é gravável para permitir a configuração remota do tamanho da área de armazenamento nos casos em que tal operação faz sentido e é possível no sistema subjacente. Por exemplo, a quantidade de memória principal alocada para um buffer pool pode ser modificada ou a quantidade de espaço em disco alocada para a memória virtual pode ser modificada.</p> |SNMP |vm.memory.total[hrStorageSize.Memory]<p>**Pré-processando**:</p><p>- MULTIPLIER: `1024`</p> |
|Memory |Memory utilization |<p>Utilização de memória em %</p> |CALCULADO |vm.memory.util[memoryUsedPercentage.Memory]<p>**Expressão**:</p>`last(//vm.memory.used[hrStorageUsed.Memory])/last(//vm.memory.total[hrStorageSize.Memory])*100` |
|Network interfaces |Interface {#IFNAME}({#IFALIAS}): Status Operacional |<p>MIB: IF-MIB</p><p>O Status Operacional atual da interface.</p><p>- O Status Testando(3) indica que nenhuma verificação de pacote operacional foi aprovada</p><p>- Se ifAdminStatus for Inativo(2) então ifOperStatus será Inativo(2)</p><p>- Se ifAdminStatus for alterado para Ativado(1), ifOperStatus deve ser alterado para Ativado(1) e a interface estará pronta para transmitir e receber tráfego de rede</p><p>- Ele deve mudar Parado(5) se a interface estiver Ociosa esperando por ações externas (como uma linha serial esperando por uma conexão de entrada)</p><p>- Ele deve permanecer no estado Inativo(2) se houver uma falha que o impeça de ir para o estado Ativado(1)</p><p>- Ele deve permanecer no estado Não-Presente(6) se a interface tiver componentes ausentes (normalmente, hardware).</p> |SNMP |net.if.status[ifOperStatus.{#SNMPINDEX}] |
|Network interfaces |Interface {#IFNAME}({#IFALIAS}): Bits received |<p>MIB: IF-MIB</p><p>O número total de octetos recebidos na interface, incluindo caracteres de enquadramento. Este objeto é uma versão de 64 bits de ifInOctets. Descontinuidades no valor deste contador podem ocorrer na reinicialização do sistema de gerenciamento e em outros momentos conforme indicado pelo valor deifCounterDiscontinuityTime.</p> |SNMP |net.if.in[ifHCInOctets.{#SNMPINDEX}]<p>**Pré-processando**:</p><p>- CHANGE_PER_SECOND</p><p>- MULTIPLIER: `8`</p> |
|Network interfaces |Interface {#IFNAME}({#IFALIAS}): Bits sent |<p>MIB: IF-MIB</p><p>O número total de octetos transmitidos pela interface, incluindo caracteres de enquadramento. Este objeto é uma versão de 64 bits de ifOutOctets. Descontinuidades no valor deste contador podem ocorrer na reinicialização do sistema de gerenciamento e em outros momentos conforme indicado pelo valor de ifCounterDiscontinuityTime.</p> |SNMP |net.if.out[ifHCOutOctets.{#SNMPINDEX}]<p>**Pré-processando**:</p><p>- CHANGE_PER_SECOND</p><p>- MULTIPLIER: `8`</p> |
|Network interfaces |Interface {#IFNAME}({#IFALIAS}): Inbound packets with errors |<p>MIB: IF-MIB</p><p>Para interfaces orientadas a pacotes, o número de pacotes de entrada que continham erros que os impediam de serem entregues a um protocolo de camada superior. Para interfaces orientadas a caracteres ou de comprimento fixo, o número de unidades de transmissão de entrada que continham erros que as impediam de serem entregues a um protocolo de camada superior. Descontinuidades no valor deste contador podem ocorrer na reinicialização do sistema de gerenciamento e em outros momentos conforme indicado pelo valor de ifCounterDiscontinuityTime.</p> |SNMP |net.if.in.errors[ifInErrors.{#SNMPINDEX}]<p>**Pré-processando**:</p><p>- CHANGE_PER_SECOND</p> |
|Network interfaces |Interface {#IFNAME}({#IFALIAS}): Outbound packets with errors |<p>MIB: IF-MIB</p><p>Para interfaces orientadas a pacotes, o número de pacotes de saída que continham erros que os impediam de serem entregues a um protocolo de camada superior. Para interfaces orientadas a caracteres ou de comprimento fixo, o número de unidades de transmissão de saída que continham erros que as impediam de serem entregues a um protocolo de camada superior. Descontinuidades no valor deste contador podem ocorrer na reinicialização do sistema de gerenciamento e em outros momentos conforme indicado pelo valor de ifCounterDiscontinuityTime.</p> |SNMP |net.if.out.errors[ifOutErrors.{#SNMPINDEX}]<p>**Pré-processando**:</p><p>- CHANGE_PER_SECOND</p> |
|Network interfaces |Interface {#IFNAME}({#IFALIAS}): Outbound packets discarded |<p>MIB: IF-MIB</p><p>O número de pacotes de saída que foram escolhidos para serem descartados</p><p>mesmo que nenhum erro tenha sido detectado para evitar que eles sejam entregues a um protocolo de camada superior.</p><p>Uma possível razão para descartar um pacote pode ser para liberar espaço no buffer.</p><p>Descontinuidades no valor deste contador podem ocorrer na reinicialização do sistema de gerenciamento,</p><p>e em outros momentos conforme indicado pelo valor de ifCounterDiscontinuityTime.</p> |SNMP |net.if.out.discards[ifOutDiscards.{#SNMPINDEX}]<p>**Pré-processando**:</p><p>- CHANGE_PER_SECOND</p> |
|Network interfaces |Interface {#IFNAME}({#IFALIAS}): Inbound packets discarded |<p>MIB: IF-MIB</p><p>O número de pacotes de entrada que foram escolhidos para serem descartados</p><p>mesmo que nenhum erro tenha sido detectado para evitar que eles sejam entregues a um protocolo de camada superior.</p><p>Uma possível razão para descartar um pacote pode ser para liberar espaço no buffer.</p><p>Descontinuidades no valor deste contador podem ocorrer na reinicialização do sistema de gerenciamento,</p><p>e em outros momentos conforme indicado pelo valor de ifCounterDiscontinuityTime.</p> |SNMP |net.if.in.discards[ifInDiscards.{#SNMPINDEX}]<p>**Pré-processando**:</p><p>- CHANGE_PER_SECOND</p> |
|Network interfaces |Interface {#IFNAME}({#IFALIAS}): Interface type |<p>MIB: IF-MIB</p><p>O tipo de interface.</p><p>Valores adicionais para ifType são atribuídos pela Internet Assigned Numbers Authority (IANA),</p><p>através da atualização da sintaxe da convenção textual IANAifType.</p> |SNMP |net.if.type[ifType.{#SNMPINDEX}]<p>**Pré-processando**:</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1d`</p> |
|Network interfaces |Interface {#IFNAME}({#IFALIAS}): Speed |<p>MIB: IF-MIB</p><p>Uma estimativa da largura de banda atual da interface em unidades de 1,000,000 de bits por segundo. Se este objeto relatar um valor de `n' então a velocidade da interface está em algum lugar na faixa de `n-500,000' para `n+499,999'.  Para interfaces que não variam em largura de banda ou para aquelas onde nenhuma estimativa precisa pode ser feita, este objeto deve conter a largura de banda nominal. Para uma subcamada que não tem conceito de largura de banda, este objeto deve ser zero.</p> |SNMP |net.if.speed[ifHighSpeed.{#SNMPINDEX}]<p>**Pré-processando**:</p><p>- MULTIPLIER: `1000000`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p> |
|Status |Uptime |<p>MIB: SNMPv2-MIB</p><p>O tempo (em centésimos de segundo) desde a última reinicialização da parte de gerenciamento de rede do sistema.</p> |SNMP |system.uptime[sysUpTime.0]<p>**Pré-processando**:</p><p>- MULTIPLIER: `0.01`</p> |
|Status |SNMP agent availability |<p>Disponibilidade de verificações SNMP no host. O valor deste item corresponde aos ícones de disponibilidade na lista de hosts.</p><p>Valor Possível:</p><p>0 - Indisponível</p><p>1 - Disponível</p><p>2 - Desconhecido</p> |INTERNAL |zabbix[host,snmp,Disponível] |
|Status |ICMP ping |<p>-</p> |SIMPLE |icmpping |
|Status |ICMP loss |<p>-</p> |SIMPLE |icmppingloss |
|Status |ICMP response time |<p>-</p> |SIMPLE |icmppingsec |
|Storage |Disk-{#SNMPINDEX}: Used space |<p>MIB: HOST-RESOURCES-MIB</p><p>A quantidade de armazenamento representada por esta entrada que é alocada, em unidades de hrStorageAllocationUnits.</p> |SNMP |vfs.fs.used[hrStorageSize.{#SNMPINDEX}]<p>**Pré-processando**:</p><p>- MULTIPLIER: `1024`</p> |
|Storage |Disk-{#SNMPINDEX}: Total space |<p>MIB: HOST-RESOURCES-MIB</p><p>O tamanho do armazenamento representado por esta entrada, em unidades de hrStorageAllocationUnits. Este objeto é gravável para permitir a configuração remota do tamanho da área de armazenamento nos casos em que tal operação faz sentido e é possível no sistema subjacente. Por exemplo, a quantidade de memória principal alocada para um buffer pool pode ser modificada ou a quantidade de espaço em disco alocada para a memória virtual pode ser modificada.</p> |SNMP |vfs.fs.total[hrStorageSize.{#SNMPINDEX}]<p>**Pré-processando**:</p><p>- MULTIPLIER: `1024`</p> |
|Storage |Disk-{#SNMPINDEX}: Space utilization |<p>Utilização do espaço em % para Disk-{#SNMPINDEX}</p> |CALCULADO |vfs.fs.pused[hrStorageSize.{#SNMPINDEX}]<p>**Expressão**:</p>`(last(//vfs.fs.used[hrStorageSize.{#SNMPINDEX}])/last(//vfs.fs.total[hrStorageSize.{#SNMPINDEX}]))*100` |
|Temperature |CPU: Temperature |<p>MIB: MIKROTIK-MIB</p><p>mtxrHlProcessorTemperature Temperatura do Processador em Graus Celsius (ºC).</p> |SNMP |sensor.temp.value[mtxrHlProcessorTemperature.{#SNMPINDEX}]<p>**Pré-processando**:</p><p>- MULTIPLIER: `0.1`</p> |
|Temperature |Device: Temperature |<p>MIB: MIKROTIK-MIB</p><p>mtxrHlTemperature Temperatura do Dispositivo em Graus Celsius (ºC).</p><p>Reference: http://wiki.mikrotik.com/wiki/Manual:SNMP</p> |SNMP |sensor.temp.value[mtxrHlTemperature.{#SNMPINDEX}]<p>**Pré-processando**:</p><p>- MULTIPLIER: `0.1`</p> |

## Gatilhos (Triggers)

|Nome|Descrição|Expressão|Severidade|Dependências  e informações adicionais||
|----|-----------|----|----|----|
|#{#SNMPINDEX}: High CPU utilization |<p>CPU utilization is too high. The system might be slow to respond.</p> |`min(/MikroTik CCR1036-8G-2S SNMP/system.cpu.util[hrProcessorLoad.{#SNMPINDEX}],5m)>{$CPU.UTIL.CRIT}` |WARNING | |
|System name has changed |<p>System name has changed. Ack to close.</p> |`last(/MikroTik CCR1036-8G-2S SNMP/system.name,#1)<>last(/MikroTik CCR1036-8G-2S SNMP/system.name,#2) and length(last(/MikroTik CCR1036-8G-2S SNMP/system.name))>0` |INFO |<p>Manual close: YES</p> |
|Operating system description has changed |<p>Operating system description has changed. Possible reasons that system has been updated or replaced. Ack to close.</p> |`last(/MikroTik CCR1036-8G-2S SNMP/system.sw.os[mtxrLicVersion.0],#1)<>last(/MikroTik CCR1036-8G-2S SNMP/system.sw.os[mtxrLicVersion.0],#2) and length(last(/MikroTik CCR1036-8G-2S SNMP/system.sw.os[mtxrLicVersion.0]))>0` |INFO |<p>Manual close: YES</p><p>**Depends on**:</p><p>- System name has changed</p> |
|Device has been replaced |<p>Device serial number has changed. Ack to close</p> |`last(/MikroTik CCR1036-8G-2S SNMP/system.hw.serialnumber,#1)<>last(/MikroTik CCR1036-8G-2S SNMP/system.hw.serialnumber,#2) and length(last(/MikroTik CCR1036-8G-2S SNMP/system.hw.serialnumber))>0` |INFO |<p>Manual close: YES</p> |
|Firmware has changed |<p>Firmware version has changed. Ack to close</p> |`last(/MikroTik CCR1036-8G-2S SNMP/system.hw.firmware,#1)<>last(/MikroTik CCR1036-8G-2S SNMP/system.hw.firmware,#2) and length(last(/MikroTik CCR1036-8G-2S SNMP/system.hw.firmware))>0` |INFO |<p>Manual close: YES</p> |
|High memory utilization |<p>The system is running out of free memory.</p> |`min(/MikroTik CCR1036-8G-2S SNMP/vm.memory.util[memoryUsedPercentage.Memory],5m)>{$MEMORY.UTIL.MAX}` |AVERAGE | |
|Interface {#IFNAME}({#IFALIAS}): Link down |<p>This trigger expression works as follows:</p><p>1. Can be triggered if operations status is down.</p><p>2. {$IFCONTROL:"{#IFNAME}"}=1 - user can redefine Context macro to value - 0. That marks this interface as not important. No new trigger will be fired if this interface is down.</p><p>3. {TEMPLATE_NAME:METRIC.diff()}=1) - trigger fires only if Status Operacional was up(1) sometime before. (So, do not fire 'ethernal off' interfaces.)</p><p>WARNING: if closed manually - won't fire again on next poll, because of .diff.</p> |`{$IFCONTROL:"{#IFNAME}"}=1 and last(/MikroTik CCR1036-8G-2S SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])=2 and (last(/MikroTik CCR1036-8G-2S SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}],#1)<>last(/MikroTik CCR1036-8G-2S SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}],#2))`<p>Recovery expression:</p>`last(/MikroTik CCR1036-8G-2S SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])<>2 or {$IFCONTROL:"{#IFNAME}"}=0` |AVERAGE |<p>Manual close: YES</p> |
|Interface {#IFNAME}({#IFALIAS}): High bandwidth usage |<p>The network interface utilization is close to its estimated maximum bandwidth.</p> |`(avg(/MikroTik CCR1036-8G-2S SNMP/net.if.in[ifHCInOctets.{#SNMPINDEX}],15m)>({$IF.UTIL.MAX:"{#IFNAME}"}/100)*last(/MikroTik CCR1036-8G-2S SNMP/net.if.speed[ifHighSpeed.{#SNMPINDEX}]) or avg(/MikroTik CCR1036-8G-2S SNMP/net.if.out[ifHCOutOctets.{#SNMPINDEX}],15m)>({$IF.UTIL.MAX:"{#IFNAME}"}/100)*last(/MikroTik CCR1036-8G-2S SNMP/net.if.speed[ifHighSpeed.{#SNMPINDEX}])) and last(/MikroTik CCR1036-8G-2S SNMP/net.if.speed[ifHighSpeed.{#SNMPINDEX}])>0`<p>Recovery expression:</p>`avg(/MikroTik CCR1036-8G-2S SNMP/net.if.in[ifHCInOctets.{#SNMPINDEX}],15m)<(({$IF.UTIL.MAX:"{#IFNAME}"}-3)/100)*last(/MikroTik CCR1036-8G-2S SNMP/net.if.speed[ifHighSpeed.{#SNMPINDEX}]) and avg(/MikroTik CCR1036-8G-2S SNMP/net.if.out[ifHCOutOctets.{#SNMPINDEX}],15m)<(({$IF.UTIL.MAX:"{#IFNAME}"}-3)/100)*last(/MikroTik CCR1036-8G-2S SNMP/net.if.speed[ifHighSpeed.{#SNMPINDEX}])` |WARNING |<p>Manual close: YES</p><p>**Depends on**:</p><p>- Interface {#IFNAME}({#IFALIAS}): Link down</p> |
|Interface {#IFNAME}({#IFALIAS}): High error rate |<p>Recovers when below 80% of {$IF.ERRORS.WARN:"{#IFNAME}"} threshold</p> |`min(/MikroTik CCR1036-8G-2S SNMP/net.if.in.errors[ifInErrors.{#SNMPINDEX}],5m)>{$IF.ERRORS.WARN:"{#IFNAME}"} or min(/MikroTik CCR1036-8G-2S SNMP/net.if.out.errors[ifOutErrors.{#SNMPINDEX}],5m)>{$IF.ERRORS.WARN:"{#IFNAME}"}`<p>Recovery expression:</p>`max(/MikroTik CCR1036-8G-2S SNMP/net.if.in.errors[ifInErrors.{#SNMPINDEX}],5m)<{$IF.ERRORS.WARN:"{#IFNAME}"}*0.8 and max(/MikroTik CCR1036-8G-2S SNMP/net.if.out.errors[ifOutErrors.{#SNMPINDEX}],5m)<{$IF.ERRORS.WARN:"{#IFNAME}"}*0.8` |WARNING |<p>Manual close: YES</p><p>**Depends on**:</p><p>- Interface {#IFNAME}({#IFALIAS}): Link down</p> |
|Interface {#IFNAME}({#IFALIAS}): Ethernet has changed to lower speed than it was before |<p>This Ethernet connection has transitioned down from its known maximum speed. This might be a sign of autonegotiation issues. Ack to close.</p> |`change(/MikroTik CCR1036-8G-2S SNMP/net.if.speed[ifHighSpeed.{#SNMPINDEX}])<0 and last(/MikroTik CCR1036-8G-2S SNMP/net.if.speed[ifHighSpeed.{#SNMPINDEX}])>0 and ( last(/MikroTik CCR1036-8G-2S SNMP/net.if.type[ifType.{#SNMPINDEX}])=6 or last(/MikroTik CCR1036-8G-2S SNMP/net.if.type[ifType.{#SNMPINDEX}])=7 or last(/MikroTik CCR1036-8G-2S SNMP/net.if.type[ifType.{#SNMPINDEX}])=11 or last(/MikroTik CCR1036-8G-2S SNMP/net.if.type[ifType.{#SNMPINDEX}])=62 or last(/MikroTik CCR1036-8G-2S SNMP/net.if.type[ifType.{#SNMPINDEX}])=69 or last(/MikroTik CCR1036-8G-2S SNMP/net.if.type[ifType.{#SNMPINDEX}])=117 ) and (last(/MikroTik CCR1036-8G-2S SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])<>2)`<p>Recovery expression:</p>`(change(/MikroTik CCR1036-8G-2S SNMP/net.if.speed[ifHighSpeed.{#SNMPINDEX}])>0 and last(/MikroTik CCR1036-8G-2S SNMP/net.if.speed[ifHighSpeed.{#SNMPINDEX}],#2)>0) or (last(/MikroTik CCR1036-8G-2S SNMP/net.if.status[ifOperStatus.{#SNMPINDEX}])=2)` |INFO |<p>Manual close: YES</p><p>**Depends on**:</p><p>- Interface {#IFNAME}({#IFALIAS}): Link down</p> |
|has been restarted |<p>Uptime is less than 10 minutes</p> |`last(/MikroTik CCR1036-8G-2S SNMP/system.uptime[sysUpTime.0])<10m` |WARNING |<p>Manual close: YES</p><p>**Depends on**:</p><p>- No SNMP data collection</p> |
|No SNMP data collection |<p>SNMP is Indisponível for polling. Please check device connectivity and SNMP settings.</p> |`max(/MikroTik CCR1036-8G-2S SNMP/zabbix[host,snmp,Disponível],{$SNMP.TIMEOUT})=0` |WARNING |<p>**Depends on**:</p><p>- UnDisponível by ICMP ping</p> |
|UnDisponível by ICMP ping |<p>Last three attempts returned timeout.  Please check device connectivity.</p> |`max(/MikroTik CCR1036-8G-2S SNMP/icmpping,#3)=0` |HIGH | |
|High ICMP ping loss |<p>-</p> |`min(/MikroTik CCR1036-8G-2S SNMP/icmppingloss,5m)>{$ICMP_LOSS_WARN} and min(/MikroTik CCR1036-8G-2S SNMP/icmppingloss,5m)<100` |WARNING |<p>**Depends on**:</p><p>- UnDisponível by ICMP ping</p> |
|High ICMP ping response time |<p>-</p> |`avg(/MikroTik CCR1036-8G-2S SNMP/icmppingsec,5m)>{$ICMP_RESPONSE_TIME_WARN}` |WARNING |<p>**Depends on**:</p><p>- High ICMP ping loss</p><p>- UnDisponível by ICMP ping</p> |
|Disk-{#SNMPINDEX}: Disk space is critically low |<p>Two conditions should match: First, space utilization should be above {$VFS.FS.PUSED.MAX.CRIT:"Disk-{#SNMPINDEX}"}.</p><p> Second condition should be one of the following:</p><p> - The disk free space is less than 5G.</p><p> - The disk will be full in less than 24 hours.</p> |`last(/MikroTik CCR1036-8G-2S SNMP/vfs.fs.pused[hrStorageSize.{#SNMPINDEX}])>{$VFS.FS.PUSED.MAX.CRIT:"Disk-{#SNMPINDEX}"} and ((last(/MikroTik CCR1036-8G-2S SNMP/vfs.fs.total[hrStorageSize.{#SNMPINDEX}])-last(/MikroTik CCR1036-8G-2S SNMP/vfs.fs.used[hrStorageSize.{#SNMPINDEX}]))<5G or timeleft(/MikroTik CCR1036-8G-2S SNMP/vfs.fs.pused[hrStorageSize.{#SNMPINDEX}],1h,100)<1d)` |AVERAGE |<p>Manual close: YES</p> |
|Disk-{#SNMPINDEX}: Disk space is low |<p>Two conditions should match: First, space utilization should be above {$VFS.FS.PUSED.MAX.WARN:"Disk-{#SNMPINDEX}"}.</p><p> Second condition should be one of the following:</p><p> - The disk free space is less than 10G.</p><p> - The disk will be full in less than 24 hours.</p> |`last(/MikroTik CCR1036-8G-2S SNMP/vfs.fs.pused[hrStorageSize.{#SNMPINDEX}])>{$VFS.FS.PUSED.MAX.WARN:"Disk-{#SNMPINDEX}"} and ((last(/MikroTik CCR1036-8G-2S SNMP/vfs.fs.total[hrStorageSize.{#SNMPINDEX}])-last(/MikroTik CCR1036-8G-2S SNMP/vfs.fs.used[hrStorageSize.{#SNMPINDEX}]))<10G or timeleft(/MikroTik CCR1036-8G-2S SNMP/vfs.fs.pused[hrStorageSize.{#SNMPINDEX}],1h,100)<1d)` |WARNING |<p>Manual close: YES</p><p>**Depends on**:</p><p>- Disk-{#SNMPINDEX}: Disk space is critically low</p> |
|CPU: Temperature is above warning threshold |<p>This trigger uses temperature sensor values as well as temperature sensor status if Disponível</p> |`avg(/MikroTik CCR1036-8G-2S SNMP/sensor.temp.value[mtxrHlProcessorTemperature.{#SNMPINDEX}],5m)>{$TEMP_WARN:"CPU"}`<p>Recovery expression:</p>`max(/MikroTik CCR1036-8G-2S SNMP/sensor.temp.value[mtxrHlProcessorTemperature.{#SNMPINDEX}],5m)<{$TEMP_WARN:"CPU"}-3` |WARNING |<p>**Depends on**:</p><p>- CPU: Temperature is above critical threshold</p> |
|CPU: Temperature is above critical threshold |<p>This trigger uses temperature sensor values as well as temperature sensor status if Disponível</p> |`avg(/MikroTik CCR1036-8G-2S SNMP/sensor.temp.value[mtxrHlProcessorTemperature.{#SNMPINDEX}],5m)>{$TEMP_CRIT:"CPU"}`<p>Recovery expression:</p>`max(/MikroTik CCR1036-8G-2S SNMP/sensor.temp.value[mtxrHlProcessorTemperature.{#SNMPINDEX}],5m)<{$TEMP_CRIT:"CPU"}-3` |HIGH | |
|CPU: Temperature is too low |<p>-</p> |`avg(/MikroTik CCR1036-8G-2S SNMP/sensor.temp.value[mtxrHlProcessorTemperature.{#SNMPINDEX}],5m)<{$TEMP_CRIT_LOW:"CPU"}`<p>Recovery expression:</p>`min(/MikroTik CCR1036-8G-2S SNMP/sensor.temp.value[mtxrHlProcessorTemperature.{#SNMPINDEX}],5m)>{$TEMP_CRIT_LOW:"CPU"}+3` |AVERAGE | |
|Device: Temperature is above warning threshold |<p>This trigger uses temperature sensor values as well as temperature sensor status if Disponível</p> |`avg(/MikroTik CCR1036-8G-2S SNMP/sensor.temp.value[mtxrHlTemperature.{#SNMPINDEX}],5m)>{$TEMP_WARN:"Device"}`<p>Recovery expression:</p>`max(/MikroTik CCR1036-8G-2S SNMP/sensor.temp.value[mtxrHlTemperature.{#SNMPINDEX}],5m)<{$TEMP_WARN:"Device"}-3` |WARNING |<p>**Depends on**:</p><p>- Device: Temperature is above critical threshold</p> |
|Device: Temperature is above critical threshold |<p>This trigger uses temperature sensor values as well as temperature sensor status if Disponível</p> |`avg(/MikroTik CCR1036-8G-2S SNMP/sensor.temp.value[mtxrHlTemperature.{#SNMPINDEX}],5m)>{$TEMP_CRIT:"Device"}`<p>Recovery expression:</p>`max(/MikroTik CCR1036-8G-2S SNMP/sensor.temp.value[mtxrHlTemperature.{#SNMPINDEX}],5m)<{$TEMP_CRIT:"Device"}-3` |HIGH | |
|Device: Temperature is too low |<p>-</p> |`avg(/MikroTik CCR1036-8G-2S SNMP/sensor.temp.value[mtxrHlTemperature.{#SNMPINDEX}],5m)<{$TEMP_CRIT_LOW:"Device"}`<p>Recovery expression:</p>`min(/MikroTik CCR1036-8G-2S SNMP/sensor.temp.value[mtxrHlTemperature.{#SNMPINDEX}],5m)>{$TEMP_CRIT_LOW:"Device"}+3` |AVERAGE | |
|Interface {#IFNAME}({#IFALIAS}): LTE modem RSSI is low |<p>-</p> |`max(/MikroTik CCR1036-8G-2S SNMP/lte.modem.rssi[mtxrLTEModemSignalRSSI.{#SNMPINDEX}],5m) < {$LTEMODEM.RSSI.MIN.WARN}` |WARNING | |
|Interface {#IFNAME}({#IFALIAS}): LTE modem RSRP is low |<p>-</p> |`max(/MikroTik CCR1036-8G-2S SNMP/lte.modem.rsrp[mtxrLTEModemSignalRSRP.{#SNMPINDEX}],5m) < {$LTEMODEM.RSRP.MIN.WARN}` |WARNING | |
|Interface {#IFNAME}({#IFALIAS}): LTE modem RSRQ is low |<p>-</p> |`max(/MikroTik CCR1036-8G-2S SNMP/lte.modem.rsrq[mtxrLTEModemSignalRSRQ.{#SNMPINDEX}],5m) < {$LTEMODEM.RSRQ.MIN.WARN}` |WARNING | |
|Interface {#IFNAME}({#IFALIAS}): LTE modem SINR is low |<p>-</p> |`max(/MikroTik CCR1036-8G-2S SNMP/lte.modem.sinr[mtxrLTEModemSignalSINR.{#SNMPINDEX}],5m) < {$LTEMODEM.SINR.MIN.WARN}` |WARNING | |
|Interface {#IFNAME}({#IFALIAS}): AP interface {#IFNAME}({#IFALIAS}) is not running |<p>Access point interface can be not running by different reasons - disabled interface, power off, network link down.</p> |`last(/MikroTik CCR1036-8G-2S SNMP/ssid.state[mtxrWlCMState.{#SNMPINDEX}])<>"running-ap"` |WARNING | |
